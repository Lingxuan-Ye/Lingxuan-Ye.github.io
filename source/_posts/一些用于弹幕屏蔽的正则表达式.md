---
title: 一些用于弹幕屏蔽的正则表达式
tags: 杂七杂八
categories: 杂七杂八
date: 2020-07-17
---

我不想讨论多久远的梗才是烂梗，我讨厌重复的弹幕。

如果你喜欢某类弹幕，请不要添加相应的正则表达式。

------

# 说明

B 站对正则表达式有一定的限制，以下进行一些说明。

## 格式

B 站特色正则表达式需在首尾分别添加正斜线 `/` ，对于表达式：

```
pattern
```

请自行修改为：

```
/pattern/
```

## 合并

正则表达式的数量达到上限时，可将多条短表达式合并，例如：

```
a

b

c
```

可以合并为：

```
a|b|c
```

## 拆分

正则表达式的字符长度达到上限时，可将其进行拆分，例如：

```
(d|e)f|g
```

可以拆分为：

```
df

ef

g
```

## 删除子表达式

如果你喜欢的一类弹幕出现在子表达式里，可以将其删除。

对于表达式：

```
a|b|c
```

如果不想屏蔽其中的 `b` ，可以修改为：

```
a|c
```

请不要删除嵌套在括号里的子表达式，除非你明白你正在做什么。

## 注意

如果你不能确定某个符号的作用，请不要对其修改。

# 正文

保持弹幕常闭：

```
.
```

避免手动关闭弹幕。

------

屏蔽汉字和字母以外字符组成的弹幕（比如一长串感叹号或者纯数字）：

```
^[^a-zA-Z\u4e00-\u9fa5]+$
```

如果只屏蔽纯数字，可使用：

```
^\d+$
```

------

屏蔽若干字符以内的弹幕（以三字为例）：

```
^.{1,3}$
```

------

屏蔽刷前排：

```
[前第]\s*(排|[\d零一二三四五六七八九十百千万亿])|[\d零一二三四五六七八九十百千万亿].*大门|[dD][iI][yY][iI]
```

------

屏蔽其他开头常见弹幕：

```
[在再]来[一亿]|恭喜.*宝|黄金矿工|(来|[lL][aAeE][iI]?).?(了|[lL][eE])|全体(起|.[立飞])|起[立飞]|^上一站|过来的?$|先.{1,3}[再后]|^提前|[更出].*追|周.*指.*活
```

------

屏蔽 “前方高能”、“调大亮度”、“调高音量” 等：

```
前[面方头].*(高|能|地狱)|高能|非战斗人员|调.*[亮大高]
```

------

屏蔽时间和日期：

```
(\d+\D)?\d+\D\d+|年.+月|月.+日|[\d零一二三四五六七八九十百千万亿两几半].*(世纪|纪元|辈子|年|月|时|小时|分钟|秒)
```

------

屏蔽诸如 “+1”、“+10086”：

```
(\+|加)[\d零一二三四五六七八九十百千万亿]
```

------

屏蔽 OP、ED 相关弹幕：

```
左.*右.*(大法|得手|失)|小.*一[抖oOpP]|精.降落|^(请求)?空降[^\d]*$|[开收停施]工|以[上下].*均.*出现|指挥部|[oO][pP]|[eE][dD]
```

**不会**屏蔽 “空降至xx秒”。

------

屏蔽 “完结撒花”：

```
[完玩万].*[结节結節截美].*[撒散洒杀啥]|[撒散洒杀啥]\s*花|感.*谢.*陪.*伴|确.*认.*存.*活|存.*活.*确.*认|^(存活|活着)|[有无]人区|留名
```

------

屏蔽其它片尾常见弹幕

```
正片|条.[片蛋]|(上|前面).*彩蛋|^(笑容|表情)|^心[脏肺]..$
```

------

屏蔽颜色梗：

```
变.*色|色.*变|什么.?色|绿|[戴带扣].*[冠帽]|[冠帽].*[戴带扣掉]|帽子|爱.?一.?光|自然.?力量|我.*白色?的?[？?]*$|^.?[紫基橘桔菊].{2,3}$|颜.*表.*立
```

我屏蔽了 “绿” 这个字。与其担心误伤，不如多担心担心 B 站用户下沉的程度。

另外建议屏蔽彩色弹幕。

------

屏蔽自我意识过剩以及饭圈：

```
(我[哒的].?|参上|一拜)[^0-9a-zA-Z\u4e00-\u9fa5]*$|我.?([男女基]朋?友|老[公婆])|我的[就,，!！\s]|我.*(表示|接受)|归我|^.{0,2}我|[我俺]也?一

承包|休想|不许|凶|先.为敬|俺|寡人|朕|哀家|洒家|鄙人|宝宝|妈妈|老(朽|夫|子|娘|阿姨)|劳资
```

太长所以拆成了两条。

------

屏蔽虚空对话：

```
^[前后上下]面.*(的|你|[那这]个).*(等|够了|别|休想|拖出去|你|我|忍|在下|[跟带加]上|魔)|^(说.*|.{2,})的|的.{0,4}够了|暴露(了|时间)
```

------

**Jo 小鬼专题**

```
(.{2,4}).*(\1.*){2,}|(.)(.*)(\3\4*){2,}
```

该表达式可以屏蔽：

- 重复出现了三次以上的，由两到四个字符组成的短句。即使有些小鬼自作聪明地在重复项之间添加了若干个**不同**的干扰项；

- 单字重复出现三次以上的弹幕，即使单字之间隔了零到多个**相同**干扰项。

    > 这个例句不会被屏蔽，即使这个例句出现了三个 “例” 字

你将不会看到三次以上的 “欧拉” 和 “木大”。

杂项：

```
([咋扎杂砸咂匝]|[口扣抠阔扩括]).*[哇瓦挖洼][卢颅路陆露鲁撸噜碌]|[dD][iI][oO].*家产|塑料.*世界|世界.*塑料|控制楼梯|压路机|不做人|平角裤

((承|[jJ][iI]?[oO])太郎|([啊阿]|[买卖]鱼)强).*(水[产族]|海洋)|不是.*[而\s，,]是.*父亲

([—-－–])+.\1+|典[明眀].*粥|[啊阿]帕.*茶|抽紫烟|神父.*碟|[jJgG][iI]?[oO]\s*(等|印|护车)|[bB][oO].*[kK][iI]|[上下]一.+(现在|已经)|面板$|星.*(远征|十字)军

大乔.*[赞踩]|荒木.*(老贼|团)|你.*说.*[了对是][巴吧]|此曲一出|标准结局|[sS].{0,2}[hH].*[tT]|[承花龙茸]{2}|动物之友

父.[子女]|铁.*恋人|[五5][aA]之耻|安杰[罗洛]|米[^斯]达|小飞机|灭爸|来啃燕窝|老东西|袭击妈妈|锁孔看|握.?手手
```

------

轻音少女：

```
^[kK].{0,2}([0oO][nN]|[nN][0oO]|[0oO][fF][fF])[^0-9a-zA-Z\u4e00-\u9fa5]*$|山田尚子.*神|罗[mM][iI][oO]|朱律叶
```

转场刷屏很烦。

------

高木同学：

```
太.*永.*太|三[幻神|巨头|人来凑]|胰岛|狗粮|开[饭惨]|饱了|款待
```

------

中二病也要谈恋爱：

```
[爆暴]炸.*现充|邪王真眼.*最强|有洞
```

------

三体：

```
人类.*罗辑|(消灭|消除|暴政).*属于|海.*[对那].*敌|黑暗森林|程心|圣母|[恒乱]纪元|刻.*石头上|岁月.*文明|文明.*岁月
```

黑暗森林是一个极具美感并且在小说世界观下基本自圆其说的理论，但在小鬼们的讨论下往往演变成了社会达尔文主义。“种群是进化的基本单位”，就算是对大自然的拙劣模仿，人与人之间的丛林法则也是不自然的；以前我们用 “圣母” 一词抨击不切实际、慷他人之慨的人，小鬼们鹦鹉学舌以后，它们肆无忌惮地用 “圣母” 来抨击人类善良、宽容等美好品质。《三体》系列是我很喜欢的小说，我从来没有想过它会像如今这样小鬼横行。鉴于弹幕区本来就不是一个良好的讨论环境，想来想去，还是通通屏蔽了好。

------

魔法禁书目录以及超电磁炮：

```
(你|君|あなた).*[指手].*[躍跃飛飞舞動动光]|跃.*信.*存
```

似乎超炮 T 出来后 B 站自己把 “指尖电光” 屏蔽了，不确定。

```
(超|应该|换成).*[tT][mM]
```

绢旗口癖带来的脑缠弹幕。

```
火包\s?女且|电脑配件|势力|最弱|^.{2,4}指导|教主|一方|大爷|曲面屏|呱太|祭霸|霸麻
```

------

从零开始的异世界生活：

```
魔.+(体香|香气|脚气)|村.*好.*剑|([要卖买]|小哥.*)苹果
```

------

鬼灭之刃：

```
无[残惨]|[碳炭].[郎朗]|[柱鬼]灭|[之の]呼吸|火之神|紫藤花|猪油骨|南南东
```

------

Overlord：

```
骨终[成为]王|傲天|[炮跑砲咆泡]{2}(.壶|茶)|迪化|迪.*戒指|戒指.*迪|魅魔.*耻|乃.*奉.*至尊
```

------

没有黄段子的无聊世界：

```
[sS].?[0oO].?[xX]
```

------

我的青春恋爱物语果然有问题：

```
(青春|恋爱)物语.*问题
```

------

终将成为你：

```
百合.*[连联]
```

------

紫罗兰永恒花园：

```
花.*爱.*紫罗兰
```

本番弹幕类似 QQ 个性签名，建议**关闭**弹幕。

------

哈利波特：

```
霍格沃兹|哈.波.?特|格兰芬多|斯莱特林|霍奇帕奇|拉文克劳|狮院|蛇院|獾院|鸦院|.又.分之|麻瓜
```

------

掉头梗和腰斩梗：

```
芙(兰.+|.+兰)达|(头|脑|活|完[好整]).*(学姐|巴?麻美|芙兰达)|(学姐|巴?麻美|芙兰达).*(头|脑|活|完[好整])|[换掉调]头
```

------

屏蔽 “会上B站” 相关弹幕：

```
(出现|[上发传转放在到至]).*[在到至]?(([bBpPdD][iI][lL][iI]|[iI][lL][iI][bBpPdD]|[哔批][里哩]){2}|([bBpP批破比逼哔][iI]?|小破)[站占战])
```

说实话，我甚至不想在弹幕里看到 “B站”：

```
([bBpPdD][iIlL]{3}|[iIlL]{3}[bBpPdD]|[哔批][里哩]){2}|([bBpP批破比逼哔][iI]?|小破)[站占战]
```

------

屏蔽 “你看看这是人说的话 / 人干的事吗”：

```
(([你女汝][听闻看瞧]|([看听瞧说评])\3|这是).*人|^.?人).*[言话]|[做当作坐座]个人|人.*干.*事
```

------

屏蔽 “xxx（老师），你看看 / 学着点 / ...”：

```
[你宁您].*([看康瞧瞅听学])(\1|着点)
```

------

屏蔽 “不会吧不会吧” 等：

```
千层(饼|套路)|第.{1,2}层|老.{2,5}了|[你细]品|(不会[吧把巴]|[阿啊][吧巴]){2,}|急了|就这|不香
```

------

屏蔽友军、开炮、战忽局等：

```
[开放停][炮火箭]|[敌友]军|厚葬|二营长|秀[^一]|意大利[炮跑泡砲面]|[站占战][乎忽]|此子|不[可能]留|留不|同志|暴露了|明白人|安排|忽悠
```

------

这个我也不知道怎么总结：

```
[掉断上下]线|代打|挂机|回合|重连|续费|登[录陆]|([一请参作求出助挑应][站战]|参与|[介加进]入|[退逃][离出]|离开|就位|准备).{0,4}$|谢.+[刷送]

[aA]了?[上出][去来]|危[，,\s]速[归来回]|偷(家|塔|水晶)|[敌我].*水晶|[开打]团|团(战|不过)
```

------

校园四霸：

```
(校.*|四)霸|折[木棒]|奉太[狼朗郎]|绫小路|路[哥爷]|大老师|比.谷|自[曝爆]|([咲关咩]|口关)太|快来|来.{0,2}下
```

------

屏蔽 “你谁啊”、“新角色” 之类弹幕：

```
[你您宁这那]谁|.{0,4}[那哪]位|^谁[啊阿]|谁[啊阿][^0-9a-zA-Z\u4e00-\u9fa5]*$|新.{0,4}角色
```

聊胜于无吧，能整的花样太多了，屏蔽不过来。

------

屏蔽与烟花相关的弹幕：

```
^\s*(这个时候|[此这][时刻])|(烟花|花火).*[圆扁]|炮口.*看
```

------

屏蔽小学生诗词朗诵：

```
^([\u4e00-\u9fa5]{4}[，,\s][\u4e00-\u9fa5]{4}|[\u4e00-\u9fa5]{5}[，,\s][\u4e00-\u9fa5]{5}|[\u4e00-\u9fa5]{7}[，,\s][\u4e00-\u9fa5]{7})[。.！!？?\s]*$
```

原理是把标点两侧出现等长汉字（仅限长度为4、5或7）的弹幕都屏蔽了，会有误伤。

------

党争、后宫番相关：

```
护[夫肤妻]|[正后]宫[的之の]|你[就舅]宠|(倾家荡产|买|压|收).+股|买定离手|开盘|[大中小][型行形].*现场
```

------

下面这些基本都能看懂在说什么，不做说明了。

```
[糟遭曹漕]老头.+坏|疑.*车|馋.*身[子体]|身[子体].*馋|[一亿]人[一亿]|夸父|水娃|喝[一亿]口

[wW].*[dD].*[nN].*[mM].*[dD]|[aA][1iIlLeE]高闪|秋梨膏|我.+了.*什么好说|[rR][uU][sS][hH].*[bB]|[锁洗头].+没得[锁洗头]|(不要|别).*([cC][tT]|警).*[aA][kK]

难民|解禁|[穷富]人|会员|相遇|嚣张|钞|金钱|[出更].追.|止步于此

今.*风.*[是真]|[今风].*喧嚣

[色摄][影像相]师|狙击手|炊事班|侦察兵

[張张]三|三.*迟|开门见三

下次.*一定|(你|示投)币|[3三][连联]

(时代变|食大便).*了

大[哥姐爷佬嫂妈].*抽|劲大

有趣的.{0,2}人

看不清.*眼[镜睛]|高锰酸钾|莎普爱思|眼睛里?进

血赚.*不亏

举[爪手]|记住[这那内]|圈起|要考|背诵|课文

读.+写

刻.*[dD][nN][aA]|[dD][nN][aA].*刻

花[泽澤沢][^香]+菜

停止.*行为

(日本|世界|地球).+小|众所周知.*是

[工エ].+[口ロ]

^为了|活着就?是?为了

[盲华][点生].+[盲华][点生]

此生.*来世|幻想乡

青春.*(结束|回来|开始)|爷|[青春][结回]

永远.神|[yY]{2}[dD][sS]

^.{0,5}(走好|保重)|[rR](.{0,2})[iI1lL]\2[pP]

炉石传说.+好玩|你倒是|猎.*弧.*长|(考..|达拉)幼龙|铲(车人|子嘴)|[cC菜][bB笔比逼]|金色传说|晕针
```

# 写在后面的话

B 站不支持零宽断言，正则表达式作用有限。建议放弃幻想，关闭弹幕，不要把时间浪费在学习正则表达式这样毫无意义的事情上面，否则最后一定会因为层出不穷的漏网之鱼而自己跟自己赌气。

<br>

<br>

------

[[ 查看专栏 ]](https://www.bilibili.com/read/cv6804328)
